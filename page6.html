<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô</title>
  <style><!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô</title>
  <style>
  @font-face {
    font-family: 'FCMinimal';
    src: url('fonts/FC_Minimal_Regular.ttf') format('truetype');
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'FCMinimal', sans-serif;
    background: url('images/treeno(9).png') no-repeat center center fixed;
    background-size: cover;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding: 2rem;
    text-align: center;
  }

  .menu {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3rem;
    width: 100%;
    max-width: 500px;
  }

  .menu a {
    text-decoration: none;
    width: 100%;
  }

.menu h1 ,
.menu h2 ,
.menu h3 {
  font-family: 'FCMinimal', sans-serif;
  font-size: clamp(1.6rem, 4.5vw, 2.4rem);
  color: #4A4A4A;
  height: 100px; /* ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ */
  display: flex;
  align-items: center; /* ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
  justify-content: center; /* ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
  text-align: center;
  padding: 0 1.5rem;
  border-radius: 16px;
  background-color: #fce5b6; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏ò‡∏µ‡∏°‡∏Ñ‡∏∏‡∏ì) */
  box-shadow: 5px 5px 0 #c49b46; /* ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏° */
  transition: transform 0.3s ease;
  margin-left: 60px;
}
  .menu h1:hover,
  .menu h2:hover,
  .menu h3:hover {
    transform: scale(1.05);
  }

 /* ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
@media screen and (max-width: 480px) 
    background-image: url('images/treeno(9).png'); /* ‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ */
      margin : 0 auto;
  }
}
@media screen and (min-width: 600px) and (max-width: 1024px) and (orientation: portrait) {
  body {
    background-image: url('images/tree1.gif');
  }
}
    /* ‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏•‡πá‡∏ï‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
    @media screen and (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
      body {
        background-image: url('images/tree1.gif');
      }
      .frame-container h2 {
        font-size: 3rem;
        
      }
    }

</style>
</head>
<body>
  <div class="menu">
    <a href="register.html"><h1>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h1></a>
    <a href="page9.html"><h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏î</h2></a>
    <a href="page10.html"><h3>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô</h3></a>
  </div>
</body>
</html>
    body {
      margin: 0;
      font-family: sans-serif;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow: hidden;
      height: 100vh;
      position: relative;
    }

    h1 {
      text-align: center;
      color: white;
      text-shadow: 0 0 10px gold;
      margin-top: 1rem;
      font-size: 2.5rem;
    }

    #characterLayer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    .character-wrapper {
      position: absolute;
      bottom: 10px;
      right: -20%;
      animation: walk-left 25s linear infinite;
    }

    .character-img {
      width: 100px;
    }

    .flower {
      position: absolute;
      bottom: 20px;
      left: 35px;
      width: 50px;
    }

    .user-character {
      animation: none !important;
      right: 50% !important;
      bottom: 120px !important;
      transform: translateX(50%) !important;
      z-index: 5;
    }

    .wish-box {
      position: absolute;
      bottom: 200px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255,255,255,0.9);
      padding: 1rem 2rem;
      border-radius: 15px;
      border: 2px solid gold;
      font-size: 1.3rem;
      z-index: 10;
      text-align: center;
      max-width: 80%;
    }

    @keyframes walk-left {
      0% { transform: translateX(0); }
      100% { transform: translateX(-140vw); }
    }
  </style>
</head>
<body>
  <h1>üôè ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô üôè</h1>
  <div id="characterLayer"></div>
  <div id="wishBox" class="wish-box">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô...</div>

  <script>
    const sheetURL = 'https://script.google.com/macros/s/AKfycbxxxxxxxxxxxxxxxxxxxxxx/exec'; // ‡πÉ‡∏™‡πà URL Web App ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

    const gifMap = {
      boyblue: 'boy1.gif',
      boybrow: 'boy2.gif',
      girlred: 'girl1.gif',
      girlblue: 'girl2.gif',
    };

    const flowerMap = {
      'flower1.png': 'flower1.png',
      'flower2.png': 'flower2.png',
      'flower3.png': 'flower3.png',
      'flower4.png': 'flower4.png',
    };

    const templeBG = {
      '‡∏ß‡∏±‡∏î‡∏ö‡∏±‡∏ß‡∏Ç‡∏ß‡∏±‡∏ç': 'images/‡∏ß‡∏±‡∏î‡∏¢‡∏±‡∏Å‡∏©‡πå‡πÄ‡∏ï‡πá‡∏°.png',
      '‡∏ß‡∏±‡∏î‡∏Å‡∏π‡πâ': 'images/‡∏ß‡∏±‡∏î‡∏Å‡∏π‡πâ‡πÄ‡∏ï‡πá‡∏°.png',
      '‡∏ß‡∏±‡∏î‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡∏™‡∏π‡∏á': 'images/‡∏ß‡∏±‡∏î‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡πÄ‡∏ï‡πá‡∏°.png',
    };

    async function loadCharacters() {
      try {
        const res = await fetch(sheetURL);
        const users = await res.json();

        const container = document.getElementById('characterLayer');
        const wishBox = document.getElementById('wishBox');

        const currentUser = users.find(u => u.done === "TRUE" || u.done === true);
        if (currentUser && currentUser.temple && templeBG[currentUser.temple]) {
          document.body.style.backgroundImage = `url('${templeBG[currentUser.temple]}')`;
        }

        users.forEach(user => {
          const wrapper = document.createElement('div');
          wrapper.className = 'character-wrapper';

          if (user.done === "TRUE" || user.done === true) {
            wrapper.classList.add('user-character');
            wishBox.innerHTML = `‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <strong>${user.wish || "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô"}</strong>`;
          }

          const characterImg = document.createElement('img');
          characterImg.src = 'images/' + (gifMap[user.character] || 'boy1.gif');
          characterImg.className = 'character-img';
          wrapper.appendChild(characterImg);

          if (user.offering && flowerMap[user.offering]) {
            const flowerImg = document.createElement('img');
            flowerImg.src = 'images/' + flowerMap[user.offering];
            flowerImg.className = 'flower';
            wrapper.appendChild(flowerImg);
          }

          container.appendChild(wrapper);
        });
      } catch (err) {
        document.getElementById('wishBox').innerText = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•';
        console.error(err);
      }
    }

    loadCharacters();
  </script>
</body>
</html>
